This is the README file for JYMAG (Java Your Music and Graphics), a program
 for retrieving multimedia from a Sagem mobile phone (tested on Linux with
 "Sagem MY X5-2").

Author: Bogdan Drozdowski, bogdandr @ op . pl
License: GPLv3+

========================= Running

You NEED RxTx Java Transmission package from www.rxtx.org to run this program.

Using NetBeans: open the JYMAG folder as a NetBeans Project
 and hit "Run".

By hand (after unpacking):
	java -jar JYMAG/dist/JYMAG.jar

========================= Compiling (if necessary)

Requirements for compiling:

- JDK, the Java Development Kit >= (1.)6.0

- RxTx Java Transmission package from www.rxtx.org

Compiling using NetBeans: open the JYMAG folder as a NetBeans Project
 and hit "Build Main Project".

Compiling by hand: try
	cd JYMAG/src/BogDroSoft/jymag/
	java *.java

========================= Using (GUI)

Phone setup: conecct it to the computer using a cable or IrDA or
 whatever works. Switch the transmission on. If using a cable, select
 "Automatic speed" in the configuration.

No need to connect to the phone. Start by selecting the tab you're
 interested in (photos, ringtones, ...). Click on "Get list" to connect
 to the phone and get the list of elements. Select the elements you wish
 to download and click "Download selected". The downloaded files will
 show up in the JYMAG program's folder.
To upload an element, simply click the "Upload" button. Getting the
 list isn't necessary.

========================= Using (command line)

The following command-line (case-insensitive) options are supported:
	    --download-dir <dir>	- sets the default directory
	    --flow <none,soft,hard>	- sets the flow control mode
	    --port <filename>		- sets the default port
	    --parity <none, even, odd, space, mark>	- sets the parity mode
	    --databits <5,6,7,8>	- sets the number of data bits
	    --speed <1200, 2400, 4800, 9600, 19200, 38400, 57600, 115200,
		230400, 460800, 500000, 576000, 921600, 1000000, 1152000,
		1500000, 2000000, 2500000, 3000000, 3500000, 4000000>
			- sets the port speed
	    --stopbits <1,1.5,2>	- sets the number of stop bits
	    --upload <filename>		- uploads the given file to the phone
					  and exits the program
	    --scan			- scans available ports for "OK" answers
					  and exits the program
	    --download-all-photos	- downloads all photos from the phone
					  and exits the program
	    --download-all-ringtones	- downloads all ringtones from the phone
					  and exits the program
	    --download-all		- combines all "download" options
					  and exits the program


========================= Currently supported operations:

1) Getting lists of: pictures and ringtones
2) Downloading:
   a) pictures: JPG
   b) ringtones: MIDI, AMR, WAV
3) Uploading:
   a) pictures: JPG, GIF, BMP, PNG
   b) ringtones: MIDI, WAV (IMA ADPCM, 8000Hz 16bit Mono?)

========================= Converting ringtones

Some ringtones received from the phone may be in AMR format. You can
 convert those to other formats using other software, like the free
 "Mobile Media Converter". If it doesn't work, use the FFMPEG program
 attached to the "Mobile Media Converter" like this:

 ffmpeg -i Ring.amr -ar 44100 Ring.wav

To convert a ringtone to a WAV format accepted by the phone, use the
 following command:

 ffmpeg -i <ringtone file> -ar 8000 -t 10 -ac 1
	-acodec adpcm_ima_wav <output file>.wav

(the number after "-t" is the ringtone duration in seconds). I've only been
able to upload ringtones created with the above command. It may be possible
to upload longer ringtones, in greater sampling rates, stereo, ..., but
I haven't tried all that (my 30-second ringtones are rejected).

========================= If not working

1. If the phone's port doesn't show up on the list.
   Not JYMAG's fault. Make sure:
   - you have installed a correct driver for the cable/IrDA/other devices
   - the phone's port is not already in use
   - you have the newest RxTx

2. Getting the list(s) fails.
   Click "Scan ports". If an answer is received, the correct port should be
   selected in the combo box. If not, an error will show up. Try closing
   the program and starting it at least 3 more times. If no success, check
   your drivers and connection. If the program crashes (missing icon),
   select your port manually.

3. Getting the list(s) or scanning hangs the program.
   Try a few times. I've tried to limit the waiting time, but my method
   apparently doesn't work all the time.
